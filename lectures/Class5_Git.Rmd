---
title: "Reproducibility with Github"
output:
  slidy_presentation: default
  ioslides_presentation: default
  beamer_presentation: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

# My code for our AutoPower Function
 Code

```{r powerexample}

#' Power Required by Speed
#'
#' This function determines the power required to keep a vehicle moving at 
#' a given speed
#' @param cdrag coefficient due to drag default=0.3 
#' @param crolling coefficient due to rolling/friction default=0.015
#' @param v vehicle speed (m/2)
#' @param m vehicle mass (kg)
#' @param A area of front of vehicle (m2)
#' @param g acceleration due to gravity (m/s) default=9.8
#' @param pair (kg/m3) default =1.2
#' @return power (W)

autopower = function(V, m, A, cdrag=0.3, crolling=0.015,pair=1.2,g=9.8) {
  P = crolling*m*g*V + 1/2*A*pair*cdrag*V**3
  return(P)
}

```

I've also stored the autopower.R function as a file 

(note  the recommended naming convention)

**autopower.R**

#  <span style="color:orange">Reproducibility with Git and Github </span>

* Why reproducibility and what does it mean?

* What is a workflow?
  * not usually linear
  * often involves iterative steps
  * often involves multiple people 

# <span style="color:orange"> Git and what to do with it </span>

<span style="color:green">Local Git</span>

* keep track of changes to your code on your computer
* when necessary, go back to early versions

<span style="color:green">GitHub</span>

* access your code from different places
* collaborate with others
  * others who will use your code
  * coding together
 

![git](../img/gitandgithub.jpg)


# <span style="color:orange"> Example </span>

[GitHub Repository that I'll use in the course](https://github.com/naomitague/ESM_262_Examples)

# <span style="color:orange"> The Basics </span>


<span style="color:green"> Commit</span>

* saves the current version locally
  each commit has a label so you can backtrack if needed
* you can look at what changes between commits
* gives you an opportunity to comment on what changes

<span style="color:green"> Push/Pull</span>

* **push** integrates any local commits/changes to central GitHub  
* **pull** integrates any commits/changes from central GitHb to local


<span style="color:green"> History</span> 

* shows your sequence of commit messages

<span style="color:green"> Diff</span> 

* shows what changed in a file since last commit

<span style="color:green"> Revert</span> 

* go back to last commit



# Lets try

Steps

1. In *GitHub*, create a new repository; you will use this for an assignment, so name it appropriately.

    1.1. Make it a public repo.
    
    1.2. Get the link for cloning.
    
2. In *Rstudio* create a new project; 

    2.1. put it in a new directory 
  
    2.2. make sure you enable *git* in project set up (if you miss this go to Project Options) 
  
    2.3. set your link to *GitHub* repository
  
3. Add a new file

  
    3.1. create a subdirectory called *R*
  
    3.3. move/copy your function from the last assignment to this subdirectory
    
    
  
4. Go to Git, 

    4.1. add this file
  
    4.2. commit the addition (add a comment)
  
5. Now change something in your R code; you could just add a comment

    5.1. see how this shows up in git diff
  
    5.2. see how this now has an *M* for modified
  
6. Once you like what you changed, commit it

    6.1. add a comment
  
    6.2. commit
  
7. Send changes to *github* by pushing

8. Go to *github* and check to see if your file and recent changes are there

8. Repeat 


  
# Getting access another *GitHub* Repositories

You can get access to other peoples code on *GitHub*

* you can have different status, which determines whether you can *push* your commits (e.g change code)
* but many code repos you can just download


**Important** don't have more than one git repo in the same directory structure; so if you are going to **clone** a Github repo, do so in a fresh/clean directory

lets get a repository, that I have created with useful R code
There are several options

1. Start a new R project with version control, and set the repository to the following 

  "https://github.com/naomitague/ESM_262_Examples.git"
  
Hint if you go to that repository on GitHub you can copy the name

2. An alternative if you just want to be able to access the files 
  
In a terminal window - go to a directory where you want to keep these file and type

"git clone https://github.com/naomitague/ESM_262_Examples.git"

Files will be downloaded there

3. IF the files are actually an **R package** and you just want the files (so you won't be able to modify them and push/pull with the repo)

you can use
```{r}
library(devtools)
 install_github("naomitague/ESM_262_Examples")
```

You can use this to download course files going forward


# <span style="color:orange"> Assignment Due next class Feb 27! </span>

1. Using the repo that you created in class, add the automobile function in the same *R* directory where you included your function from class (so now there are two files)
2. Add it to your repo
3. Commit your changes
4. Push your changes to your Github Repo
5. Add naomitague and ojassarup as Collaborators
5. Submit the link to your Github Repo, for Assignment 3 on Canvas, Due Feb 27



